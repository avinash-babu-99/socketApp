<div class="main-container">
  <div *ngIf="isLoggedIn" class="chat-container">
    <div class="contacts-container">
      <div class="chat-header">Chats</div>
      <div class="chat-list">
        <div
          class="contact"
          *ngFor="let user of contactsList"
          (click)="selectedUserHandler(user)"
        >
          <img
            src="../assets/images/waiter.png"
            width="40"
            height="40"
            alt="user"
          />
          {{ user.name }}
        </div>
      </div>
    </div>
    <div class="chat-screen">
      <div class="chat-profile" *ngIf="selectedUser">
        <img
          src="../assets/images/waiter.png"
          width="60"
          height="60"
          alt="user"
        />
        <h3>
          {{ selectedUser.name }}
        </h3>
      </div>
      <br />
      <div #messageBlock class="message-block">
        <div
          [ngClass]="
            user.sender === currentUser.phone
              ? 'sent-message-wrap'
              : 'message-wrap'
          "
          *ngFor="let user of messageArray"
        >
          <div
            class="message"
            [ngClass]="
              user.sender === currentUser.phone ? 'sent-message' : 'message'
            "
          >
            {{ user.message }}
          </div>
        </div>
      </div>
      <br />
      <div class="chat-text-box-wrapper">
        <input
          class="chat-text-box"
          type="text"
          placeholder="type the text....."
          [(ngModel)]="messageText"
          (keyup)="$event.keyCode === 13 && sendMessage()"
        />
      </div>
    </div>
  </div>

  <!-- Login page -->

  <div class="login-container" *ngIf="!isLoggedIn">
    <img
      width="120"
      height="130"
      src="../assets/images/chatting-app.png"
      alt="Chat-image"
    />
    <br />
    <br />
    <div>
      <div class="login-input-container">
        <input
          class="login-input"
          type="text"
          [(ngModel)]="phone"
          placeholder="Enter your phone number..."
          (keyup)="$event.keyCode === 13 && login()"
        />
        <br />
        <div *ngIf="isPhoneNumberWrong" class="login-error-container">
          <img
            width="15"
            height="15"
            src="../assets/images/warning.png"
            alt=""
          />
          Number you have entered does not exists
        </div>
      </div>
    </div>
    <button class="login-button" (click)="login()">Login</button>
    <span style="color: grey"
      >--------------------- or ---------------------
    </span>
    <button class="signUp-button">Sign up</button>
  </div>
</div>
